---
session_date: 2026-01-21T18:56:00Z
tickets_worked: [FW-037, FW-038, FW-040]
status: review_complete
task: Ralph work review (%r -r) - Evidence Equipment PRD
---

## Summary

Reviewed Ralph's completed Evidence & Equipment PRD (45/45 user stories). All tests pass (1905 tests, 1893 passing, 12 risky). Moved 3 tickets (FW-037, FW-038, FW-040) to for_review with implementation notes. Identified integration gap: ReadilyApparentManager not registered as autoload.

## Ralph PRD Review Results

### PRD Completed: Cooperative Evidence Equipment
| Ticket | Stories | Description |
|--------|---------|-------------|
| FW-037 | 15 | Spectral Prism Rig (Calibrator + Lens Reader) |
| FW-038 | 15 | Dowsing Rods + Aura Imager |
| FW-040 | 15 | Readily-Apparent Evidence (manifestations, interactions) |

**Total: 45/45 stories complete (100%)**

### Quality Assessment
- **Test suite**: 1905 tests total, 1893 passing, 12 risky/pending (no assertions), 0 failures
- **Smoke tests**: 17/17 pass
- **Code quality**: Good - well-documented classes, proper GDScript patterns

### Files Created by Ralph

**Spectral Prism Rig (FW-037):**
- `src/equipment/spectral_prism/prism_enums.gd` - Enums and mappings
- `src/equipment/spectral_prism/calibrator.gd` - Calibration equipment
- `src/equipment/spectral_prism/lens_reader.gd` - Reading equipment
- `scenes/ui/prism_calibrator_view.tscn` - Viewfinder UI
- `scenes/ui/prism_lens_view.tscn` - Eyepiece UI
- `scenes/equipment/spectral_calibrator.tscn` - 3D placeholder
- `scenes/equipment/spectral_lens_reader.tscn` - 3D placeholder

**Dowsing Rods + Aura Imager (FW-038):**
- `src/equipment/aura/aura_enums.gd` - Enums and mappings
- `src/equipment/aura/spatial_constraints.gd` - Position validation
- `src/equipment/aura/dowsing_rods.gd` - Dowser equipment
- `src/equipment/aura/aura_imager.gd` - Imager equipment
- `scenes/ui/aura_imager_view.tscn` - Camera screen UI
- `scenes/equipment/dowsing_rods.tscn` - 3D placeholder
- `scenes/equipment/aura_imager.tscn` - 3D placeholder

**Readily-Apparent Evidence (FW-040):**
- `src/evidence/readily_apparent_manager.gd` - Witness tracking, omissions
- `src/evidence/manifestation_enums.gd` - Type definitions
- `src/interaction/throwable_object.gd` - Entity throw mechanics
- `src/interaction/interactable_door.gd` - Door slam/open/close
- `src/interaction/flickering_light.gd` - Light flicker patterns
- `src/interaction/surface_manifestation.gd` - Writing, handprints
- `src/ui/phenomenon_report_ui.gd` - Reporting UI

### Integration Gaps Found

1. **ReadilyApparentManager NOT registered as autoload**
   - File: `src/evidence/readily_apparent_manager.gd`
   - Status: Complete and tested, but not in project.godot
   - Action needed: Add to autoloads before runtime use

2. **ConflictDetector NOT registered as autoload** (from previous PRD)
   - File: `src/evidence/conflict_detector.gd`
   - Status: Also needs to be added

**Recommended autoload additions:**
```gdscript
# In project.godot [autoload] section:
ReadilyApparentManager="*res://src/evidence/readily_apparent_manager.gd"
ConflictDetector="*res://src/evidence/conflict_detector.gd"
```

### Tickets Moved to for_review
1. **FW-037** (Spectral Prism Rig) - 15 stories, cooperative symmetric trust
2. **FW-038** (Dowsing Rods + Aura Imager) - 15 stories, cooperative asymmetric trust
3. **FW-040** (Readily-Apparent Evidence) - 15 stories, multi-witness high trust

## Next Steps

1. **Human review** of tickets FW-037, FW-038, FW-040
2. **Register missing autoloads** (ReadilyApparentManager, ConflictDetector)
3. **Prepare next Ralph PRD** - check `cc_workflow/scripts/ralph/prd_drafts/` for drafts:
   - `prd-cultist-system.json`
   - `prd-networking-voice.json`
   - `prd-map-entity.json`
   - `prd-ui-game-flow.json`

## Current State

Evidence equipment systems are complete:
- **Spectral Prism Rig**: Two-part equipment where both operators can lie (symmetric trust)
- **Dowsing Rods + Aura Imager**: Two-part equipment where only Imager can lie (asymmetric trust)
- **Readily-Apparent Evidence**: Environmental phenomena (throws, doors, lights, manifestations) with witness tracking

All systems have:
- Full gameplay mechanics
- UI components
- 3D placeholder models
- Evidence generation
- Network sync support
- Comprehensive tests

## Tickets Now in for_review

After this session, for_review contains:
- FW-035a, FW-035b, FW-035c, FW-035d (Evidence Board sub-tickets)
- FW-036a, FW-036b, FW-036c (Cross-Verification sub-tickets)
- FW-037, FW-038, FW-040 (Evidence Equipment)
- FW-040b (Physical Interaction Framework)
- FW-061, FW-062, FW-063 (Game Flow)
- FW-081, FW-082, FW-083 (UI Systems)

## Open Questions

1. Should ReadilyApparentManager + ConflictDetector be added as autoloads now, or should we create a dedicated integration ticket?
2. Which PRD draft should be the next Ralph work: cultist-system, networking-voice, map-entity, or ui-game-flow?
