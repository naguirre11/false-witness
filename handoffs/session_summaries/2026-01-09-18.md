---
session_date: 2026-01-09T18:00:00Z
tickets_worked: [FW-038b]
status: completed
---

## Summary

Implemented the Dowsing Rods Unit (FW-038b), the "visible operator" equipment for the Aura detection system. Created the complete DowsingRods class with state machine, rod behavior patterns, alignment detection, partner communication signals, and observable state for anti-deception mechanics.

## Changes Made

- `src/equipment/aura/dowsing_rods.gd`: DowsingRods class extending CooperativeEquipment
  - RodState enum: IDLE, HELD, SEEKING, ALIGNED
  - RodBehavior enum: NEUTRAL, CROSSING, SPREADING, TWITCHING
  - Rod angle positions (left_rod, right_rod) as normalized values
  - Alignment detection using SpatialConstraints from FW-038a
  - Hold steady mechanics for locking position during readings
  - Partner communication signals (position_changed, rods_adjusted, alignment_achieved, etc.)
  - Observable state system (all rod positions/facing visible to nearby players)

- `src/equipment/aura/aura_anchor.gd`: Mock anchor point for testing
  - True aura color/form properties
  - Ideal Dowser position calculation
  - Alignment quality calculation helper

- `tests/test_dowsing_rods.gd`: 57 comprehensive tests covering all acceptance criteria

## Current State

FW-038b is complete and moved to for_review. All 57 tests pass. The Dowsing Rods integrate with the spatial constraint system from FW-038a and provide the foundation for the Aura Imager (FW-038c).

Key design notes:
1. **Toggle mode equipment** - Call use() to activate, use() again to deactivate
2. **Partner optional for activation** - Rods can be used alone (SEEKING state), but full alignment requires Imager partner
3. **Observable state** - All rod positions, behavior, and facing are public to prevent deception

## Next Steps

1. **FW-038c: Aura Imager Unit** (marked as NEXT)
   - Spatial positioning behind Dowser
   - Aura visualization (resolves with alignment quality)
   - Evidence collection
   - Third-party observation mechanics
   - Should connect to DowsingRods signals (position_changed, alignment_achieved, hold_steady)

## Open Questions / Decisions Needed

None - the design follows established patterns from the Spectral Prism equipment (FW-037).
